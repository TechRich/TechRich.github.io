---
// Dev-only Decap CMS admin. In production builds, show a disabled message.
const isDev = import.meta.env.DEV;
---

{isDev ? (
  <html lang="en">
    <head>
      <meta charset="utf-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1" />
      <title>Admin | Decap CMS (Local)</title>
      <meta name="robots" content="noindex, nofollow" />
      <style>
        :root { color-scheme: light dark; }
        body { margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; }
      </style>
      <!-- Load Decap CMS from CDN -->
      <script src="https://unpkg.com/decap-cms@^3.0.0/dist/decap-cms.js"></script>
    </head>
    <body>
      <!-- Decap will bootstrap itself using /admin/config.yml -->
    </body>
  </html>
) : (
  <main style="max-width: 720px; margin: 4rem auto; padding: 1rem;">
    <h1>Admin is disabled in production</h1>
    <p>This route only serves the Decap CMS editor during local development.</p>
    <ol>
      <li>Run: <code>npx decap-cms-proxy-server</code> (or <code>npx netlify-cms-proxy-server</code>)</li>
      <li>Run: <code>npm run dev</code></li>
      <li>Open: <code>http://localhost:4321/admin/</code></li>
      <li>Click “Use Local Backend” on the login screen</li>
    </ol>
  </main>
)}

